# 0106_stack

各モード用にスタックポインタを設定します。

スタックポインタはモードごとに存在する。  
各モードに移行した場合、スタックを破壊する可能性があるため、それぞれ異なるアドレスを設定します。  
なお、マルチコア対応のため、コアごとのスタックを用意しておきます。  

手順)  
・あらかじめlinker.ldにスタックポインタを記載しておく  
・コード先頭アドレスを読み込み、ロードアドレスを確認する  
・コアIDごとにスタックポインタを読み込む  
・ロードアドレスによりスタックポインタを補正する  
・各モードに移行し、スタックポインタを設定する  
・最後にシステムモードに移行し、コアごとのスタックポインタを設定する  
　なお、このスタックサイズは#defineで変更できるようにする
