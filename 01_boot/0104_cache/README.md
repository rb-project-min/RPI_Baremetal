# 0104_cache

キャッシュ等を有効にします。

L1キャッシュやFPUを有効にすることで、パフォーマンスを向上させます。
なお、バリア命令なしの場合、RaspberryPi4では何故かフリーズする。

FPU有効化手順)
・NSACRを読み込み、浮動小数点ユニット(FPU)が無効なら、書き換えて有効化
・CPACRを読み込み、FPUをオンラインにする
・(RaspberryPi2以降) ISB命令でバリア
・FPEXCを書き換え、VFPを有効化

キャッシュ有効化手順)
・SCTLRを書き換え、データキャッシュ,フロー予測,命令キャッシュの有効化
・(RaspberryPi2以降) DSB,ISB命令でバリア

